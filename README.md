# Simple Movie Library

Веб-Приложение позволяет хранить информацию о фильмах, включая название, год, список актеров и формат записи. В приложении предусмотрены функции:

  - Сохранение фильмов на сервер;
  - Загрузка фильмов из .txt файла;
  - Поиск в каталоге по названию, году, актеру, и типу;
  - Сортировка каталога в алфавитном порядке;
  - Удаление фильма из каталога;
  - Обновление информации;
 

# Архитектура приложения

Приложение состоит из серверной (node.js) и клиентской частей (React), а так же базы данных MongoDB.

Серверная часть приложения (node.js) использует:
  - express - фреймворк для получения и обработки REST запросов, настройки роутов, объявления портов на стороне сервера. 
  - express-fileupload - библиотека для получения и обработки файлов.
  - mongoose - библиотека для подключения к базе MongoDB, формирования объекта product Schema, сохранения, выгрузки, поиска и удаления из базы данных MongoDB.
  - body-parser - библиотека обработки POST запросов.
  - concurrently - библиотека для одновременного запуска клиента и сервера.
  - nodemon - позволяет автоматически перезагрузить сервер и приложение при внесении изменений во время разработки.
 
База данных MongoDB:
  - NoSQL система управления базами данных, использует JSON-подобные документы для хранения объектов приложения.

Клиентская часть (React) использует:
  - React, ReactDOM позволяют использовать синтаксис JSX, использовать хуки для храенения состояний, пропсы для передачи данных объектов, и отрисовки приложения без перезагрузки страницы.
  - axios библиотека для выполнения HTTP-запросов в node.js, использованы GET, POST, DELETE запросы.
  - http-proxy-middleware позволяет настроить прокси-соединение клиент-сервер, а также указывать сокращенные пути для запросов '/api'.
  - Bootstrap - библиотека для стилизирования компонентов.

# Запуск приложения

1. Установите пакет node.js с оф сайта (или проверьте версию если установлен):

[https://nodejs.org/uk/download/]


в терминале используйте команду
```sh
$ brew install node
```
проверить версию:
```sh
$ node -v
```

2. Установите базу данных MongoDB (macOS), 
```sh
$ brew tap mongodb/brew
$ brew install mongodb-community@4.2
```
установка для Windows [https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/]
установка для Linux [https://docs.mongodb.com/manual/administration/install-on-linux/]

3. Создайте таблицу Films:

```sh
$ mongo
$ use Films
```

4. Скачайте и разверните приложение: 

перейдите в терминале в необходимую папку и скачайте приложение

```sh
$ git clone https://github.com/KHromak/movieLibrary.git
```
установите dependencies для сервеврной части node.js
```sh
$ npm install
```
перейдите в клиентскую часть и установите dependencies
```sh
$ cd client
$ npm install
```
5. Запустите приложение, npm run dev позволяет запустить два порта клиент - http://localhost:3000/ и сервер - http://localhost:5000/
```sh
$ npm run dev
```

после запуска, по адресу http://localhost:3000/ произойдет запуск приложения.

6. Загрузите информацию в базу данных чз приложение:

в приложении есть поле "Загрузите библиотеку фильмов (.txt)" которое принимает файл 
```sh
sample_movies.txt
```
выберите данный файл и нажмите кнопку upload.
Если установка приложения произведена верно, вы увидите список фильмов и сообщение "файл загружен на сервер".

### Функции приложения

 - "Save movie" -  заполнив все строки: "фильм", "год", "выбрать формат", "актеры" (актеров следует вводить через запятую) и нажав кнопку "сохранить фильм" произведем ручное сохранение фильма.
 - "Delete movie" - удаление фильма производится нажатием на "х" в списке.
 - "Find movie" - заполнив одно из полей и нажав "найти фильм", приложение произведет поиск по указанному названию фильма, году, актеру или типу фильма.
 - "Refresh list" - обновляет список согласно базы данных.
 - "Sort movies" - сортировка фильмов в алфавитном порядке.


### Обновления

0.2 
 - Добавлен валидатор загруженного файла, если тип файла не (.txt) - ошибка "Please use file-type .txt for upload"
 - Добавлен запрет на создание фильмов с одинаковым годом и названием для ручного ввода и для загрузки файла.
 - Добавлена валидация поля years - лимит (1850 - 2020) по поиску и для сохранения
 - Добавлен поиск по 
 - 


